
# [SQL](https://www.w3schools.com/sql/sql_ref_keywords.asp "'SQL Keywords Reference' @ w3schools.com") | [Tutorial](https://www.w3schools.com/sql/ "@ w3schools.com")

## [Database Normalization](https://en.wikipedia.org/wiki/Database_normalization "Wikipedia")

>The process of structuring a relational database in accordance with a series of so-called _normal forms_ in order to reduce data redundancy and improve data integrity.

>[There are ___three common forms___](https://www.guru99.com/database-normalization.html "www.guru99.com") of database normalization: _1st_, _2nd_, and _3rd normal_ form. These regard ___tables___: 

- `1NF` &mdash; Each column contains an atomic value. No repeating groups of columns.
- `2NF` &mdash; `1NF` plus all columns depend on the tableâ€™s Primary Key. (Single-column Primary Key.)
- `3NF` &mdash; `2NF` plus columns have no [_transitive dependencies_](https://www.google.com/search?q=transitive+functional+dependencies "Google search ..."). That is, no one column can be derived from another column (through the `pk`).

### Table Relationships [(`data.model.example`)](data.model.example.png)

>Tables must be normalized to ensure data integrity survives deletions. This necessitates <abbr title="Associative Table/Entity">__Junction Table(s)__</abbr>, even if such are only internal, auto-generated by a sophisticated <abbr title="Relational Database Management System">RDBMS</abbr> through (SQL) table definition statements, constraints and/or functions. <a name="jt"></a>

- A Junction Table [resolves a Many-to-Many (`M:M`) relationship](https://stackoverflow.com/questions/9789736/how-to-implement-a-many-to-many-relationship-in-postgresql "PostgreSQL @ StackOverflow ") into many (rows of) `M:1>-<1:M` relationships, and contains only the Foreign Keys (`fk`) of the constituent tables.

- One-to-many (`1:M`) relationships require the Primary Key (`pk`) of the _one_ table as a Foreign Key (`fk`) in the _many_ table.


```sql
-- Create a TABLE 
CREATE TABLE foos (
    foo_id int NOT NULL AUTO_INCREMENT,
    thing_1 text NOT NULL,
    thing_2 int,
    PRIMARY KEY (foo_id)
); 

-- Add a PRIMARY KEY to foos TABLE
ALTER TABLE foos ADD PRIMARY KEY (foo_id)
-- Add it as a Foreign Key at some other TABLE 
FOREIGN KEY (fk_foo_id) RENCES foos (foo_id)

-- Add FOREIGN KEY per ALTER
ALTER TABLE this
    ADD FOREIGN KEY (other_id) RENCES others (other_id); 

-- Create a FOREIGN KEY during TABLE creation
FOREIGN KEY (other_id) RENCES others (other_id)
-- ... better way (name it)
CONSTRAINT fk_other_this FOREIGN KEY (other_id) RENCES others (other_id)

-- Add a COMMENT to an object
COMMENT ON objTYPE obj_name IS '...';
-- E.g., 
COMMENT ON TABLE customers IS 'List of active customers';
```

## SQL JOIN Types 

![JOIN Types](SQL.JOIN-types.png)

[`AND` vs. `WHERE` clause @ `INNER` vs. `LEFT JOIN` ](https://stackoverflow.com/questions/354070/sql-join-where-clause-vs-on-clause "StackOverflow.com")

- Does not matter for `INNER` joins
- Matters for `OUTER` joins
    - `WHERE` clause: After joining. Records will be filtered after `JOIN` has taken place.
    - `ON` clause - Before joining. Records (from right table) will be filtered before joining. This may end up as NULL in the result (since `OUTER JOIN`).

## [SQLite](https://www.sqlite.org/ "SQLite.org :: Serverless before serverless was cool.")
- [`CREATE TABLE` + Constraints](https://www.sqlite.org/lang_createtable.html "SQLite.org/lang_createtable")
    - [`FOREIGN KEY` support (enable)](https://www.sqlite.org/foreignkeys.html "SQLite.org/foreignkeys")
- [`PRAGMA` SQL Extension](https://www.sqlite.org/pragma.html "SQLite.org/pragma :: pre-processing directive[s] i.e. 'pragmatic'")


### &nbsp;
<!-- 

# [Markdown](https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet "______")

([MD](___.html "@ browser"))   

-->

