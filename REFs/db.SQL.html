<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>db.SQL</title>
    <link rel="icon" href="https://sempernow.github.io/refpages/sa/favicon.png">
    <link rel="stylesheet" href="https://sempernow.github.io/refpages/sa/css/normalize.css">
    <link rel="stylesheet" href="https://sempernow.github.io/refpages/sa/css/main.css">
    <!--
    <link rel="stylesheet" href="https://sempernow.github.io/refpages/sa/css/dev.css">
    -->
    <link rel="stylesheet" href="https://sempernow.github.io/refpages/sa/css/hljs.github.min.css">
    <style>

    </style>
    <script src="https://sempernow.github.io/refpages/sa/js/hl.min.js"></script>
    <script>hljs.highlightAll()</script>
</head>
<body>
    <main>
        <h1><a href="https://www.w3schools.com/sql/sql_ref_keywords.asp" title="'SQL Keywords Reference' @ w3schools.com">SQL</a> | <a href="https://www.w3schools.com/sql/" title="@ w3schools.com">Tutorial</a></h1>

<h2><a href="https://en.wikipedia.org/wiki/Database_normalization" title="Wikipedia">Database Normalization</a></h2>

<blockquote>
<p>The process of structuring a relational database in accordance with a series of so-called <em>normal forms</em> in order to reduce data redundancy and improve data integrity.</p>

<p><a href="https://www.guru99.com/database-normalization.html" title="www.guru99.com">There are <strong><em>three common forms</em></strong></a> of database normalization: <em>1st</em>, <em>2nd</em>, and <em>3rd normal</em> form. These regard <strong><em>tables</em></strong>:</p>
</blockquote>

<ul>
<li><code>1NF</code> &mdash; Each column contains an atomic value. No repeating groups of columns.</li>
<li><code>2NF</code> &mdash; <code>1NF</code> plus all columns depend on the tableâ€™s Primary Key. (Single-column Primary Key.)</li>
<li><code>3NF</code> &mdash; <code>2NF</code> plus columns have no <a href="https://www.google.com/search?q=transitive+functional+dependencies" title="Google search ..."><em>transitive dependencies</em></a>. That is, no one column can be derived from another column (through the <code>pk</code>).</li>
</ul>

<h3>Table Relationships <a href="data.model.example.png">(<code>data.model.example</code>)</a></h3>

<blockquote>
<p>Tables must be normalized to ensure data integrity survives deletions. This necessitates <abbr title="Associative Table/Entity"><strong>Junction Table(s)</strong></abbr>, even if such are only internal, auto-generated by a sophisticated <abbr title="Relational Database Management System">RDBMS</abbr> through (SQL) table definition statements, constraints and/or functions. <a name="jt"></a></p>
</blockquote>

<ul>
<li><p>A Junction Table <a href="https://stackoverflow.com/questions/9789736/how-to-implement-a-many-to-many-relationship-in-postgresql" title="PostgreSQL @ StackOverflow ">resolves a Many-to-Many (<code>M:M</code>) relationship</a> into many (rows of) <code>M:1&gt;-&lt;1:M</code> relationships, and contains only the Foreign Keys (<code>fk</code>) of the constituent tables.</p></li>

<li><p>One-to-many (<code>1:M</code>) relationships require the Primary Key (<code>pk</code>) of the <em>one</em> table as a Foreign Key (<code>fk</code>) in the <em>many</em> table.</p>

<pre><code class="language-sql">-- Create a TABLE 
CREATE TABLE foos (
foo_id int NOT NULL AUTO_INCREMENT,
thing_1 text NOT NULL,
thing_2 int,
PRIMARY KEY (foo_id)
); 

-- Add a PRIMARY KEY to foos TABLE
ALTER TABLE foos ADD PRIMARY KEY (foo_id)
-- Add it as a Foreign Key at some other TABLE 
FOREIGN KEY (fk_foo_id) RENCES foos (foo_id)

-- Add FOREIGN KEY per ALTER
ALTER TABLE this
ADD FOREIGN KEY (other_id) RENCES others (other_id); 

-- Create a FOREIGN KEY during TABLE creation
FOREIGN KEY (other_id) RENCES others (other_id)
-- ... better way (name it)
CONSTRAINT fk_other_this FOREIGN KEY (other_id) RENCES others (other_id)

-- Add a COMMENT to an object
COMMENT ON objTYPE obj_name IS '...';
-- E.g., 
COMMENT ON TABLE customers IS 'List of active customers';
</code></pre></li>
</ul>

<h2>SQL JOIN Types</h2>

<p><img src="SQL.JOIN-types.png" alt="JOIN Types"></p>

<p><a href="https://stackoverflow.com/questions/354070/sql-join-where-clause-vs-on-clause" title="StackOverflow.com"><code>AND</code> vs. <code>WHERE</code> clause @ <code>INNER</code> vs. <code>LEFT JOIN</code> </a></p>

<ul>
<li>Does not matter for <code>INNER</code> joins</li>
<li>Matters for <code>OUTER</code> joins

<ul>
<li><code>WHERE</code> clause: After joining. Records will be filtered after <code>JOIN</code> has taken place.</li>
<li><code>ON</code> clause - Before joining. Records (from right table) will be filtered before joining. This may end up as NULL in the result (since <code>OUTER JOIN</code>).</li>
</ul></li>
</ul>

<h2><a href="https://www.sqlite.org/" title="SQLite.org :: Serverless before serverless was cool.">SQLite</a></h2>

<ul>
<li><a href="https://www.sqlite.org/lang_createtable.html" title="SQLite.org/lang_createtable"><code>CREATE TABLE</code> + Constraints</a>

<ul>
<li><a href="https://www.sqlite.org/foreignkeys.html" title="SQLite.org/foreignkeys"><code>FOREIGN KEY</code> support (enable)</a></li>
</ul></li>
<li><a href="https://www.sqlite.org/pragma.html" title="SQLite.org/pragma :: pre-processing directive[s] i.e. 'pragmatic'"><code>PRAGMA</code> SQL Extension</a></li>
</ul>

<h3>&nbsp;</h3>

<!-- 

# [Markdown](https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet "______")

([MD](___.html "@ browser"))   

-->
 
    </main>

    <script src="https://sempernow.github.io/refpages/sa/js/base.js"></script>
    <script>
        ;(function(o, undefined){
            'use strict'
            window.addEventListener('load', () => {
                ;(() => {})//()
                ;(() => {})//()
                ;(() => { // FOO LAB
                    const log = o.log('foo')
                        ,main = o.css('MAIN')
                    log('foo')
                    o.toDOM(main, '<h1>TEST</h1>')
                })//()
            })
        })( (typeof window !== 'undefined') 
            && (window[__APP__] = window[__APP__] || {})
                || (typeof global !== 'undefined') 
                    && (global[__APP__] = global[__APP__] || {})
        );
    </script>
</body>
</html>
